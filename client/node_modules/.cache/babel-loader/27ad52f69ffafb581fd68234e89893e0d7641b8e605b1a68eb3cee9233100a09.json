{"ast":null,"code":"import { Figure } from \"./Figure\";\nexport class Rect extends Figure {\n  constructor(canvas, socket, id) {\n    super(canvas, socket, id);\n  }\n  pointerMoveHandler(e) {\n    super.pointerMoveHandler(e);\n    if (!this.ctx || !this.startX || !this.startY || !this.width || !this.height || !this.socket) return;\n    if (this.mouseDown) {\n      this.draw(this.ctx, this.startX, this.startY, this.width, this.height);\n      // this.socket.send(JSON.stringify({\n      //     id: this.id,\n      //     method: \"draw\",\n      //     figure: {\n      //         type: 'rect',\n      //         x: this.startX,\n      //         y: this.startY,\n      //         w: this.width,\n      //         h: this.height\n      //     },\n      // }));\n    }\n  }\n\n  draw(ctx, x, y, w, h) {\n    super.draw(ctx, x, y, w, h);\n    if (!this.img) return false;\n    console.log(this.savedCanvas);\n    ctx.clearRect(0, 0, 600, 400);\n    ctx.drawImage(this.img, 0, 0, 600, 400);\n    ctx.beginPath();\n    ctx.rect(x, y, w, h);\n    ctx.fill();\n    ctx.stroke();\n  }\n}","map":{"version":3,"names":["Figure","Rect","constructor","canvas","socket","id","pointerMoveHandler","e","ctx","startX","startY","width","height","mouseDown","draw","x","y","w","h","img","console","log","savedCanvas","clearRect","drawImage","beginPath","rect","fill","stroke"],"sources":["C:/Users/mistR/OneDrive/Рабочий стол/React/ts/paint-ts/client/src/tools/Rect.ts"],"sourcesContent":["import { Figure } from \"./Figure\";\r\n\r\nexport class Rect extends Figure {\r\n\r\n    constructor(canvas: HTMLCanvasElement | null, socket: WebSocket | null, id: string) {\r\n        super(canvas, socket, id);\r\n    }\r\n\r\n    protected pointerMoveHandler(e: PointerEvent) {\r\n        super.pointerMoveHandler(e);\r\n        if(!this.ctx || !this.startX || !this.startY || !this.width || !this.height || !this.socket) return;\r\n        if(this.mouseDown) {\r\n            this.draw(this.ctx, this.startX, this.startY, this.width, this.height);\r\n            // this.socket.send(JSON.stringify({\r\n            //     id: this.id,\r\n            //     method: \"draw\",\r\n            //     figure: {\r\n            //         type: 'rect',\r\n            //         x: this.startX,\r\n            //         y: this.startY,\r\n            //         w: this.width,\r\n            //         h: this.height\r\n            //     },\r\n            // }));\r\n        }\r\n    }\r\n\r\n    public draw(ctx: CanvasRenderingContext2D, x: number, y: number, w: number, h: number) {\r\n        super.draw(ctx, x, y, w, h);\r\n        if(!this.img) return false;\r\n        console.log(this.savedCanvas);\r\n        ctx.clearRect(0, 0, 600, 400);\r\n        ctx.drawImage(this.img, 0, 0, 600, 400);\r\n        ctx.beginPath();\r\n        ctx.rect(x, y, w, h);\r\n        ctx.fill();\r\n        ctx.stroke();\r\n    \r\n    }\r\n}"],"mappings":"AAAA,SAASA,MAAM,QAAQ,UAAU;AAEjC,OAAO,MAAMC,IAAI,SAASD,MAAM,CAAC;EAE7BE,WAAWA,CAACC,MAAgC,EAAEC,MAAwB,EAAEC,EAAU,EAAE;IAChF,KAAK,CAACF,MAAM,EAAEC,MAAM,EAAEC,EAAE,CAAC;EAC7B;EAEUC,kBAAkBA,CAACC,CAAe,EAAE;IAC1C,KAAK,CAACD,kBAAkB,CAACC,CAAC,CAAC;IAC3B,IAAG,CAAC,IAAI,CAACC,GAAG,IAAI,CAAC,IAAI,CAACC,MAAM,IAAI,CAAC,IAAI,CAACC,MAAM,IAAI,CAAC,IAAI,CAACC,KAAK,IAAI,CAAC,IAAI,CAACC,MAAM,IAAI,CAAC,IAAI,CAACR,MAAM,EAAE;IAC7F,IAAG,IAAI,CAACS,SAAS,EAAE;MACf,IAAI,CAACC,IAAI,CAAC,IAAI,CAACN,GAAG,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;MACtE;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACJ;EACJ;;EAEOE,IAAIA,CAACN,GAA6B,EAAEO,CAAS,EAAEC,CAAS,EAAEC,CAAS,EAAEC,CAAS,EAAE;IACnF,KAAK,CAACJ,IAAI,CAACN,GAAG,EAAEO,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;IAC3B,IAAG,CAAC,IAAI,CAACC,GAAG,EAAE,OAAO,KAAK;IAC1BC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,WAAW,CAAC;IAC7Bd,GAAG,CAACe,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;IAC7Bf,GAAG,CAACgB,SAAS,CAAC,IAAI,CAACL,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC;IACvCX,GAAG,CAACiB,SAAS,CAAC,CAAC;IACfjB,GAAG,CAACkB,IAAI,CAACX,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC;IACpBV,GAAG,CAACmB,IAAI,CAAC,CAAC;IACVnB,GAAG,CAACoB,MAAM,CAAC,CAAC;EAEhB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}