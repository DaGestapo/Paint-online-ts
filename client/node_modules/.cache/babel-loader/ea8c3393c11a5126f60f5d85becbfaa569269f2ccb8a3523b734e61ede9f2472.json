{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mistR\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\React\\\\ts\\\\paint-ts\\\\client\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport { useParams } from 'react-router-dom';\nimport canvasState from './store/canvasState';\nimport Toolbar from './components/Toolbar';\nimport Settingbar from './components/Settingbar';\nimport Canvas from './components/Canvas';\nimport Modal from './components/Modal';\nimport './styles/app.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = new WebSocket('ws://localhost:4000');\nfunction App() {\n  _s();\n  const {\n    id\n  } = useParams();\n  if (id) {\n    const connectionHandler = (socket, id) => {\n      return username => {\n        var _canvasState$socket;\n        canvasState.setWebSocket(socket);\n        canvasState.setId(id);\n        (_canvasState$socket = canvasState.socket) === null || _canvasState$socket === void 0 ? void 0 : _canvasState$socket.send(JSON.stringify({\n          id: id,\n          method: 'connection',\n          username: username\n        }));\n      };\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        connectionHandler: connectionHandler(socket, id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n        id: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Settingbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Canvas, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this);\n  } else return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(App, \"r5uZNI/QgQLJ6YUN+rmQ/OIgZ/k=\", false, function () {\n  return [useParams];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useParams","canvasState","Toolbar","Settingbar","Canvas","Modal","jsxDEV","_jsxDEV","Fragment","_Fragment","socket","WebSocket","App","_s","id","connectionHandler","username","_canvasState$socket","setWebSocket","setId","send","JSON","stringify","method","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mistR/OneDrive/Рабочий стол/React/ts/paint-ts/client/src/App.tsx"],"sourcesContent":["import {useParams} from 'react-router-dom';\n\nimport canvasState from './store/canvasState';\n\nimport Toolbar from './components/Toolbar';\nimport Settingbar from './components/Settingbar';\nimport Canvas from './components/Canvas';\nimport Modal from './components/Modal';\n\n\nimport './styles/app.scss';\n\nconst socket = new WebSocket('ws://localhost:4000');\n\nfunction App() {\n\n  const {id} = useParams();\n  if(id) {\n    const connectionHandler = (socket: WebSocket, id: string): Function => {\n    \n        return (username: string) => {\n            canvasState.setWebSocket(socket);\n            canvasState.setId(id);\n        \n            canvasState.socket?.send(JSON.stringify({\n              id: id,\n              method: 'connection',\n              username: username\n          }));\n        }\n      }\n\n\n    return (\n      <div className=\"App\">\n        <Modal connectionHandler={connectionHandler(socket, id)}/>\n        <Toolbar id={id}/>\n        <Settingbar />\n        <Canvas />\n      </div>\n    ) \n  } else return (\n    <></>\n  )\n    \n\n}\n\nexport default App;\n"],"mappings":";;AAAA,SAAQA,SAAS,QAAO,kBAAkB;AAE1C,OAAOC,WAAW,MAAM,qBAAqB;AAE7C,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,KAAK,MAAM,oBAAoB;AAGtC,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3B,MAAMC,MAAM,GAAG,IAAIC,SAAS,CAAC,qBAAqB,CAAC;AAEnD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAEb,MAAM;IAACC;EAAE,CAAC,GAAGd,SAAS,CAAC,CAAC;EACxB,IAAGc,EAAE,EAAE;IACL,MAAMC,iBAAiB,GAAGA,CAACL,MAAiB,EAAEI,EAAU,KAAe;MAEnE,OAAQE,QAAgB,IAAK;QAAA,IAAAC,mBAAA;QACzBhB,WAAW,CAACiB,YAAY,CAACR,MAAM,CAAC;QAChCT,WAAW,CAACkB,KAAK,CAACL,EAAE,CAAC;QAErB,CAAAG,mBAAA,GAAAhB,WAAW,CAACS,MAAM,cAAAO,mBAAA,uBAAlBA,mBAAA,CAAoBG,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC;UACtCR,EAAE,EAAEA,EAAE;UACNS,MAAM,EAAE,YAAY;UACpBP,QAAQ,EAAEA;QACd,CAAC,CAAC,CAAC;MACL,CAAC;IACH,CAAC;IAGH,oBACET,OAAA;MAAKiB,SAAS,EAAC,KAAK;MAAAC,QAAA,gBAClBlB,OAAA,CAACF,KAAK;QAACU,iBAAiB,EAAEA,iBAAiB,CAACL,MAAM,EAAEI,EAAE;MAAE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eAC1DtB,OAAA,CAACL,OAAO;QAACY,EAAE,EAAEA;MAAG;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eAClBtB,OAAA,CAACJ,UAAU;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACdtB,OAAA,CAACH,MAAM;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAEV,CAAC,MAAM,oBACLtB,OAAA,CAAAE,SAAA,mBAAI,CAAC;AAIT;AAACI,EAAA,CAhCQD,GAAG;EAAA,QAEGZ,SAAS;AAAA;AAAA8B,EAAA,GAFflB,GAAG;AAkCZ,eAAeA,GAAG;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}