{"ast":null,"code":"export class Tool {\n  constructor(canvas, socket, id) {\n    this.canvas = void 0;\n    this.ctx = void 0;\n    this.socket = void 0;\n    this.id = void 0;\n    this.img = void 0;\n    this.savedCanvas = void 0;\n    this.canvas = canvas;\n    this.socket = socket;\n    this.id = id;\n    this.ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext(\"2d\");\n    this.delete();\n  }\n  draw(ctx, src, x, y, w, h) {\n    if (!src) return;\n    this.img = document.createElement('img');\n    this.img.src = src;\n    this.img.onload = () => {};\n  }\n  delete() {\n    if (!this.canvas) return;\n    this.canvas.onpointerdown = null;\n    this.canvas.onpointermove = null;\n    this.canvas.onpointerup = null;\n  }\n  setColor(color) {\n    if (color.startsWith('#') && this.ctx) {\n      this.ctx.strokeStyle = color;\n      this.ctx.fillStyle = color;\n    }\n  }\n  set fillColor(color) {\n    if (color.startsWith('#') && this.ctx) {\n      this.ctx.fillStyle = color;\n    }\n  }\n  set styleColor(color) {\n    if (color.startsWith('#') && this.ctx) {\n      this.ctx.strokeStyle = color;\n    }\n  }\n  set lineWidth(width) {\n    if (this.ctx) {\n      this.ctx.lineWidth = width;\n    }\n  }\n}","map":{"version":3,"names":["Tool","constructor","canvas","socket","id","ctx","img","savedCanvas","getContext","delete","draw","src","x","y","w","h","document","createElement","onload","onpointerdown","onpointermove","onpointerup","setColor","color","startsWith","strokeStyle","fillStyle","fillColor","styleColor","lineWidth","width"],"sources":["C:/Users/mistR/OneDrive/Рабочий стол/React/ts/paint-ts/client/src/tools/Tool.ts"],"sourcesContent":["export class Tool {\r\n    protected canvas: HTMLCanvasElement | null;\r\n    protected ctx: CanvasRenderingContext2D | null | undefined;\r\n    protected socket: WebSocket | null;\r\n    protected id: string;\r\n    protected img?: HTMLImageElement;\r\n    protected savedCanvas?: string;\r\n\r\n    constructor(canvas: HTMLCanvasElement | null, socket: WebSocket | null, id: string) {\r\n        this.canvas = canvas;\r\n        this.socket = socket;\r\n        this.id = id;\r\n        this.ctx = canvas?.getContext(\"2d\");\r\n        this.delete();\r\n    }\r\n\r\n    public draw(ctx: CanvasRenderingContext2D, src: string, x: number, y: number, w?: number, h?: number) {\r\n        if(!src) return;\r\n        this.img = document.createElement('img');\r\n        this.img.src = src; \r\n\r\n        this.img.onload = () => {\r\n            \r\n        }\r\n    }\r\n\r\n    private delete() {\r\n        if(!this.canvas) return;\r\n\r\n        this.canvas.onpointerdown = null;\r\n        this.canvas.onpointermove = null;\r\n        this.canvas.onpointerup = null;\r\n    }\r\n\r\n    public setColor(color: string) {\r\n        if(color.startsWith('#') && this.ctx) {\r\n            this.ctx.strokeStyle = color;\r\n            this.ctx.fillStyle = color;\r\n        }\r\n    }\r\n\r\n    set fillColor(color: string) {\r\n        if(color.startsWith('#') && this.ctx) {\r\n            this.ctx.fillStyle = color;\r\n        }\r\n    }\r\n\r\n    set styleColor(color: string) {\r\n        if(color.startsWith('#') && this.ctx) {\r\n            this.ctx.strokeStyle = color;\r\n        }\r\n    }\r\n\r\n    set lineWidth(width: number) {\r\n        if(this.ctx) {\r\n            this.ctx.lineWidth = width;\r\n        }\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAO,MAAMA,IAAI,CAAC;EAQdC,WAAWA,CAACC,MAAgC,EAAEC,MAAwB,EAAEC,EAAU,EAAE;IAAA,KAP1EF,MAAM;IAAA,KACNG,GAAG;IAAA,KACHF,MAAM;IAAA,KACNC,EAAE;IAAA,KACFE,GAAG;IAAA,KACHC,WAAW;IAGjB,IAAI,CAACL,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,GAAG,GAAGH,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEM,UAAU,CAAC,IAAI,CAAC;IACnC,IAAI,CAACC,MAAM,CAAC,CAAC;EACjB;EAEOC,IAAIA,CAACL,GAA6B,EAAEM,GAAW,EAAEC,CAAS,EAAEC,CAAS,EAAEC,CAAU,EAAEC,CAAU,EAAE;IAClG,IAAG,CAACJ,GAAG,EAAE;IACT,IAAI,CAACL,GAAG,GAAGU,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACxC,IAAI,CAACX,GAAG,CAACK,GAAG,GAAGA,GAAG;IAElB,IAAI,CAACL,GAAG,CAACY,MAAM,GAAG,MAAM,CAExB,CAAC;EACL;EAEQT,MAAMA,CAAA,EAAG;IACb,IAAG,CAAC,IAAI,CAACP,MAAM,EAAE;IAEjB,IAAI,CAACA,MAAM,CAACiB,aAAa,GAAG,IAAI;IAChC,IAAI,CAACjB,MAAM,CAACkB,aAAa,GAAG,IAAI;IAChC,IAAI,CAAClB,MAAM,CAACmB,WAAW,GAAG,IAAI;EAClC;EAEOC,QAAQA,CAACC,KAAa,EAAE;IAC3B,IAAGA,KAAK,CAACC,UAAU,CAAC,GAAG,CAAC,IAAI,IAAI,CAACnB,GAAG,EAAE;MAClC,IAAI,CAACA,GAAG,CAACoB,WAAW,GAAGF,KAAK;MAC5B,IAAI,CAAClB,GAAG,CAACqB,SAAS,GAAGH,KAAK;IAC9B;EACJ;EAEA,IAAII,SAASA,CAACJ,KAAa,EAAE;IACzB,IAAGA,KAAK,CAACC,UAAU,CAAC,GAAG,CAAC,IAAI,IAAI,CAACnB,GAAG,EAAE;MAClC,IAAI,CAACA,GAAG,CAACqB,SAAS,GAAGH,KAAK;IAC9B;EACJ;EAEA,IAAIK,UAAUA,CAACL,KAAa,EAAE;IAC1B,IAAGA,KAAK,CAACC,UAAU,CAAC,GAAG,CAAC,IAAI,IAAI,CAACnB,GAAG,EAAE;MAClC,IAAI,CAACA,GAAG,CAACoB,WAAW,GAAGF,KAAK;IAChC;EACJ;EAEA,IAAIM,SAASA,CAACC,KAAa,EAAE;IACzB,IAAG,IAAI,CAACzB,GAAG,EAAE;MACT,IAAI,CAACA,GAAG,CAACwB,SAAS,GAAGC,KAAK;IAC9B;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}