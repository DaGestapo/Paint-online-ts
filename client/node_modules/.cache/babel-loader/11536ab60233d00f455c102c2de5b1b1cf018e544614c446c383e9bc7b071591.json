{"ast":null,"code":"import Brush from \"./Brush\";\nexport class Eraser extends Brush {\n  constructor(canvas, socket, id) {\n    super(canvas, socket, id);\n    this.saved = void 0;\n    this.color = void 0;\n    this.saved = this.ctx ? this.ctx.strokeStyle : null;\n    this.color = '#fff';\n  }\n  pointerMoveHandler(e) {\n    if (!this.canvas || !this.ctx || !this.socket) return;\n    if (this.mouseDown) {\n      let currentX = e.pageX - this.canvas.offsetLeft,\n        currentY = e.pageY - this.canvas.offsetTop;\n      this.socket.send(JSON.stringify({\n        id: this.id,\n        method: \"draw\",\n        figure: {\n          type: 'eraser',\n          x: currentX,\n          y: currentY\n        }\n      }));\n    }\n  }\n  draw(ctx, x, y) {\n    if (!this.ctx || !this.canvas) return;\n    this.ctx.strokeStyle = this.color;\n    super.draw(ctx, x, y);\n    if (this.saved) {\n      this.ctx.strokeStyle = this.saved;\n    }\n  }\n}","map":{"version":3,"names":["Brush","Eraser","constructor","canvas","socket","id","saved","color","ctx","strokeStyle","pointerMoveHandler","e","mouseDown","currentX","pageX","offsetLeft","currentY","pageY","offsetTop","send","JSON","stringify","method","figure","type","x","y","draw"],"sources":["C:/Users/mistR/OneDrive/Рабочий стол/React/ts/paint-ts/client/src/tools/Eraser.ts"],"sourcesContent":["import  Brush  from \"./Brush\";\r\n\r\nexport class Eraser extends Brush {\r\n    private saved: string | CanvasGradient | CanvasPattern | null;\r\n    private color: string;\r\n\r\n    constructor(canvas : HTMLCanvasElement | null, socket: WebSocket | null, id: string) {\r\n        super(canvas, socket, id);\r\n        this.saved = this.ctx? this.ctx.strokeStyle: null;\r\n        this.color = '#fff';\r\n    }\r\n\r\n    protected pointerMoveHandler(e: PointerEvent) {\r\n        if(!this.canvas || !this.ctx || !this.socket) return;\r\n        if(this.mouseDown) {\r\n            let currentX = e.pageX - this.canvas.offsetLeft,\r\n                currentY = e.pageY - this.canvas.offsetTop;\r\n\r\n            this.socket.send(JSON.stringify({\r\n                id: this.id,\r\n                method: \"draw\",\r\n                figure: {\r\n                    type: 'eraser',\r\n                    x: currentX,\r\n                    y: currentY\r\n                }\r\n            }));\r\n        }\r\n    }\r\n\r\n    public draw(ctx: CanvasRenderingContext2D, x: number, y: number) {\r\n        if(!this.ctx || !this.canvas) return;\r\n        this.ctx.strokeStyle = this.color;\r\n        super.draw(ctx, x, y);\r\n        if(this.saved) {\r\n            this.ctx.strokeStyle = this.saved\r\n        }\r\n    }\r\n}"],"mappings":"AAAA,OAAQA,KAAK,MAAO,SAAS;AAE7B,OAAO,MAAMC,MAAM,SAASD,KAAK,CAAC;EAI9BE,WAAWA,CAACC,MAAiC,EAAEC,MAAwB,EAAEC,EAAU,EAAE;IACjF,KAAK,CAACF,MAAM,EAAEC,MAAM,EAAEC,EAAE,CAAC;IAAC,KAJtBC,KAAK;IAAA,KACLC,KAAK;IAIT,IAAI,CAACD,KAAK,GAAG,IAAI,CAACE,GAAG,GAAE,IAAI,CAACA,GAAG,CAACC,WAAW,GAAE,IAAI;IACjD,IAAI,CAACF,KAAK,GAAG,MAAM;EACvB;EAEUG,kBAAkBA,CAACC,CAAe,EAAE;IAC1C,IAAG,CAAC,IAAI,CAACR,MAAM,IAAI,CAAC,IAAI,CAACK,GAAG,IAAI,CAAC,IAAI,CAACJ,MAAM,EAAE;IAC9C,IAAG,IAAI,CAACQ,SAAS,EAAE;MACf,IAAIC,QAAQ,GAAGF,CAAC,CAACG,KAAK,GAAG,IAAI,CAACX,MAAM,CAACY,UAAU;QAC3CC,QAAQ,GAAGL,CAAC,CAACM,KAAK,GAAG,IAAI,CAACd,MAAM,CAACe,SAAS;MAE9C,IAAI,CAACd,MAAM,CAACe,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC;QAC5BhB,EAAE,EAAE,IAAI,CAACA,EAAE;QACXiB,MAAM,EAAE,MAAM;QACdC,MAAM,EAAE;UACJC,IAAI,EAAE,QAAQ;UACdC,CAAC,EAAEZ,QAAQ;UACXa,CAAC,EAAEV;QACP;MACJ,CAAC,CAAC,CAAC;IACP;EACJ;EAEOW,IAAIA,CAACnB,GAA6B,EAAEiB,CAAS,EAAEC,CAAS,EAAE;IAC7D,IAAG,CAAC,IAAI,CAAClB,GAAG,IAAI,CAAC,IAAI,CAACL,MAAM,EAAE;IAC9B,IAAI,CAACK,GAAG,CAACC,WAAW,GAAG,IAAI,CAACF,KAAK;IACjC,KAAK,CAACoB,IAAI,CAACnB,GAAG,EAAEiB,CAAC,EAAEC,CAAC,CAAC;IACrB,IAAG,IAAI,CAACpB,KAAK,EAAE;MACX,IAAI,CAACE,GAAG,CAACC,WAAW,GAAG,IAAI,CAACH,KAAK;IACrC;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}