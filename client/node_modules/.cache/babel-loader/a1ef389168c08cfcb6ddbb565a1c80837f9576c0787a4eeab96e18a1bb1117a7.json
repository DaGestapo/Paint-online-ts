{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mistR\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\React\\\\ts\\\\paint-ts\\\\client\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Toolbar from './components/Toolbar';\nimport Settingbar from './components/Settingbar';\nimport Canvas from './components/Canvas';\nimport Modal from './components/Modal';\nimport { connetUserToSession } from './sokcet/socket';\nimport './styles/app.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst socket = new WebSocket('ws://localhost:4000');\nfunction App() {\n  _s();\n  const [name, setName] = useState(null);\n\n  // const connectionHandler = (username: string)  => {\n  //   setName(name);\n  //   canvasState.setWebSocket(socket);\n  //   if(id) {\n  //     canvasState.setId(id);\n  //   }\n\n  //   canvasState.socket?.send(JSON.stringify({\n  //     id: id,\n  //     method: 'connection',\n  //     username: name\n  // }));\n  // }\n\n  const {\n    id\n  } = useParams();\n  if (id) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        connectionHandler: connetUserToSession(socket, id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n        id: id ? id : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Settingbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n        id: id ? id : null,\n        name: name ? name : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  } else return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n_s(App, \"3PYVCrY12wZBfCsMsiLLSPjgkOQ=\", false, function () {\n  return [useParams];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useParams","Toolbar","Settingbar","Canvas","Modal","connetUserToSession","jsxDEV","_jsxDEV","Fragment","_Fragment","socket","WebSocket","App","_s","name","setName","id","className","children","connectionHandler","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/mistR/OneDrive/Рабочий стол/React/ts/paint-ts/client/src/App.tsx"],"sourcesContent":["import {useState} from 'react';\nimport {useParams} from 'react-router-dom';\n\nimport Toolbar from './components/Toolbar';\nimport Settingbar from './components/Settingbar';\nimport Canvas from './components/Canvas';\nimport Modal from './components/Modal';\n\nimport canvasState from './store/canvasState';\nimport { connetUserToSession } from './sokcet/socket';\n\nimport './styles/app.scss';\n\nconst socket = new WebSocket('ws://localhost:4000');\n\nfunction App() {\n  const [name, setName] = useState<string | null>(null);\n\n  // const connectionHandler = (username: string)  => {\n  //   setName(name);\n  //   canvasState.setWebSocket(socket);\n  //   if(id) {\n  //     canvasState.setId(id);\n  //   }\n\n  //   canvasState.socket?.send(JSON.stringify({\n  //     id: id,\n  //     method: 'connection',\n  //     username: name\n  // }));\n  // }\n\n  const {id} = useParams();\n  if(id) {\n    return (\n      <div className=\"App\">\n        <Modal connectionHandler={connetUserToSession(socket, id)}/>\n        <Toolbar id={id? id: ''}/>\n        <Settingbar />\n        <Canvas \n          id={id? id: null} \n          name={name? name: null}/>\n      </div>\n    ) \n  } else return (\n    <>\n    \n    </>\n  )\n    \n\n}\n\nexport default App;\n"],"mappings":";;AAAA,SAAQA,QAAQ,QAAO,OAAO;AAC9B,SAAQC,SAAS,QAAO,kBAAkB;AAE1C,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,KAAK,MAAM,oBAAoB;AAGtC,SAASC,mBAAmB,QAAQ,iBAAiB;AAErD,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE3B,MAAMC,MAAM,GAAG,IAAIC,SAAS,CAAC,qBAAqB,CAAC;AAEnD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAgB,IAAI,CAAC;;EAErD;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAM;IAACiB;EAAE,CAAC,GAAGhB,SAAS,CAAC,CAAC;EACxB,IAAGgB,EAAE,EAAE;IACL,oBACET,OAAA;MAAKU,SAAS,EAAC,KAAK;MAAAC,QAAA,gBAClBX,OAAA,CAACH,KAAK;QAACe,iBAAiB,EAAEd,mBAAmB,CAACK,MAAM,EAAEM,EAAE;MAAE;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eAC5DhB,OAAA,CAACN,OAAO;QAACe,EAAE,EAAEA,EAAE,GAAEA,EAAE,GAAE;MAAG;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eAC1BhB,OAAA,CAACL,UAAU;QAAAkB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACdhB,OAAA,CAACJ,MAAM;QACLa,EAAE,EAAEA,EAAE,GAAEA,EAAE,GAAE,IAAK;QACjBF,IAAI,EAAEA,IAAI,GAAEA,IAAI,GAAE;MAAK;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC;EAEV,CAAC,MAAM,oBACLhB,OAAA,CAAAE,SAAA,mBAEE,CAAC;AAIP;AAACI,EAAA,CApCQD,GAAG;EAAA,QAiBGZ,SAAS;AAAA;AAAAwB,EAAA,GAjBfZ,GAAG;AAsCZ,eAAeA,GAAG;AAAC,IAAAY,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}